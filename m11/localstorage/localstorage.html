<!DOCTYPE html>
<html>
<head>
  <title>Local Storage CRUD Example</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    input, button { padding: 10px; margin: 5px 0; }
    ul { list-style: none; padding: 0; }
    li {
      padding: 10px;
      border-bottom: 1px solid #ccc;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    li.completed span { text-decoration: line-through; color: gray; }
    .actions button { margin-left: 5px; padding: 5px 10px; cursor: pointer; }
  </style>
</head>
<body>

<h2>Todo List with Local Storage</h2>
<input type="text" id="taskInput" placeholder="Add a new task">
<button id="addTaskBtn">Add Task</button>
<ul id="taskList"></ul>

<script>
const taskInput = document.getElementById("taskInput");
const addTaskBtn = document.getElementById("addTaskBtn");
const taskList = document.getElementById("taskList");
// Load tasks from localStorage on page load
let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
renderTasks();
addTaskBtn.addEventListener("click", () => {
  const taskText = taskInput.value.trim();
  if (!taskText) return;
  const newTask = { id: Date.now(), text: taskText, completed: false };
  tasks.push(newTask);
  saveTasks();
  renderTasks();
  taskInput.value = "";
});
function saveTasks() {
  localStorage.setItem("tasks", JSON.stringify(tasks));
}
function renderTasks() {
  taskList.innerHTML = "";
  tasks.forEach(task => {
    const li = document.createElement("li");
    if (task.completed) li.classList.add("completed");
    const span = document.createElement("span");
    span.innerText = task.text;
    const actions = document.createElement("div");
    actions.className = "actions";
    const completeBtn = document.createElement("button");
    completeBtn.innerText = "Mark as complete";
    completeBtn.addEventListener("click", () => {
      task.completed = !task.completed; 
      saveTasks();
      renderTasks();
    });
    const deleteBtn = document.createElement("button");
    deleteBtn.innerText = "Delete";
    deleteBtn.addEventListener("click", () => {
      tasks = tasks.filter(t => t.id !== task.id); 
      saveTasks();
      renderTasks();
    });
    actions.appendChild(completeBtn);
    actions.appendChild(deleteBtn);
    li.appendChild(span);
    li.appendChild(actions);
    taskList.appendChild(li);
  });
}
taskInput.addEventListener("keypress", e => {
  if (e.key === "Enter") addTaskBtn.click();
});
</script>
</body>
</html>
